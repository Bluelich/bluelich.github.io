<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Bluelich的博客</title>
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://bluelich.com/"/>
  <updated>2016-07-23T12:35:57.000Z</updated>
  <id>http://bluelich.com/</id>
  
  <author>
    <name>Bluelich</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>使用Swift实现基于HealthKit的睡眠分析功能</title>
    <link href="http://bluelich.com/2016/07/18/Using-Sleep-Analysis-in-HealthKit-with-Swift/"/>
    <id>http://bluelich.com/2016/07/18/Using-Sleep-Analysis-in-HealthKit-with-Swift/</id>
    <published>2016-07-18T13:03:52.000Z</published>
    <updated>2016-07-23T12:35:57.000Z</updated>
    
    <content type="html">&lt;p&gt;原文:&lt;a href=&quot;http://www.appcoda.com/sleep-analysis-healthkit/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;链接&lt;/a&gt;&lt;br&gt;译者:&lt;a href=&quot;http://weibo.com/u/1376767097&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Bluelich&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;如今,睡眠分析的彻底改变已经成为一种趋势。用户比以往更加好奇，他们不仅希望知道自己的睡眠时间，比如说什么时候开始进入睡眠等，他们还想要通过获得聚合数据来了解自己的睡眠趋势。而今，硬件和手机的技术革新，给这个正在日益增长的用户群体带来了新的曙光。&lt;/p&gt;
&lt;p&gt;Apple提供了一个非常酷的方式，让你可以以非常安全的方式，通过内置的&lt;code&gt;健康&lt;/code&gt;应用和用户的健康信息进行交互。你不仅仅可以通过使用&lt;code&gt;HealthKit&lt;/code&gt;来&lt;a href=&quot;https://www.appcoda.com/healthkit-introduction/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;构建一个健身App&lt;/a&gt;，该框架还允许你对用户睡眠数据进行分析。&lt;/p&gt;
&lt;p&gt;在这个教程里，我将会对&lt;code&gt;HealthKit&lt;/code&gt;进行一个简单介绍，并演示如何构建一个简单的睡眠分析App。&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;介绍&quot;&gt;&lt;a href=&quot;#介绍&quot; class=&quot;headerlink&quot; title=&quot;介绍&quot;&gt;&lt;/a&gt;介绍&lt;/h2&gt;&lt;p&gt;HealthKit框架提供了一个叫做&lt;code&gt;HealthKit store&lt;/code&gt;的加密数据库结构来保存数据。你可以通过&lt;code&gt;HKHealthStore&lt;/code&gt;这个类来访问这个数据库。 iPhone和Apple Watch都有他们自己的&lt;code&gt;HealthKit Store&lt;/code&gt;。 健康数据会在iPhone和Apple Watch上进行同步；需要注意的是在Apple Watch上，一旦可用空间不足，旧的数据就会被删除掉；另外&lt;code&gt;HealthKit&lt;/code&gt;在iPad上无法使用。&lt;/p&gt;
&lt;p&gt;如果你想创建一个基于健康数据的iOS或watchOS应用，HealthKit将会是一个非常强大的工具。&lt;br&gt;它被设计为一个管理各个来源的健康数据的工具，根据用户的偏好设置，将这些数据进行聚合。这些基于&lt;code&gt;HealthKit&lt;/code&gt;的App拥有在&lt;code&gt;健康&lt;/code&gt;App中各自数据的读写访问权限，还可以将各自的数据进行合并。这些数据不仅包括用户身体状况的基本数据，健身信息，营养状况，还包括用户的睡眠分析数据。&lt;/p&gt;
&lt;p&gt;本文的其余部分,我将向您展示如何在iOS上利用&lt;code&gt;HealthKit&lt;/code&gt;框架读写睡眠分析数据。 同样的方法也适用于watchOS应用程序。 请注意,本教程编写使用Swift 2.0 和 Xcode 7。所以确保你使用的也是Xcode 7，以便继续下面的教程。&lt;/p&gt;
&lt;p&gt;在进行下一步之前，你可以先下载这个&lt;a href=&quot;https://github.com/appcoda/SleepAnalysis/blob/master/SleepAnalysisStarter.zip?raw=true&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;启动项目&lt;/a&gt;然后解压。这是一个拥有基本功能的App。运行这个项目后，你会看到一个显示时间的计时器UI和一个开始按钮。&lt;/p&gt;
&lt;h2 id=&quot;使用HealthKit框架&quot;&gt;&lt;a href=&quot;#使用HealthKit框架&quot; class=&quot;headerlink&quot; title=&quot;使用HealthKit框架&quot;&gt;&lt;/a&gt;使用HealthKit框架&lt;/h2&gt;&lt;p&gt;我们要实现的效果是，通过点击&lt;code&gt;Start&lt;/code&gt;和&lt;code&gt;Stop&lt;/code&gt;按钮来保存和查询用户的数据。要使用&lt;code&gt;HealthKit&lt;/code&gt;，必须先让你的App获取到&lt;code&gt;HealthKit&lt;/code&gt;权限，在工程中选中当前项目Target，然后选择Capabilities,打开&lt;code&gt;HealthKit&lt;/code&gt;的开关&lt;br&gt;&lt;img src=&quot;http://www.appcoda.com/wp-content/uploads/2016/05/HealthKit-allow-1024x640.png&quot; alt=&quot;HealthKit-allow&quot;&gt;&lt;br&gt;接下来，你讲需要在&lt;code&gt;ViewController&lt;/code&gt;中创建一个&lt;code&gt;HKHealthStore&lt;/code&gt;的对象。&lt;br&gt;代码如下：&lt;br&gt;&lt;code&gt;let healthStore = HKHealthStore()&lt;/code&gt;&lt;br&gt;后面我们就要使用这个对象&lt;code&gt;healthStore&lt;/code&gt;来访问&lt;code&gt;HealthKit store&lt;/code&gt;了&lt;/p&gt;
&lt;p&gt;就像前面说的那样，HealthKit给予用户权限来掌控自己的健康数据，因此你在对用户的睡眠数据进行分析之前，需要先获得用户的许可。要获得许可，需要先引入&lt;code&gt;HealthKit&lt;/code&gt;framework，然后更新&lt;code&gt;viewDidLoad&lt;/code&gt;里的代码。&lt;/p&gt;
&lt;p&gt;代码如下：&lt;br&gt;&lt;figure class=&quot;highlight swift&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;override&lt;/span&gt; &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;viewDidLoad&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt;&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;super&lt;/span&gt;.viewDidLoad()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;let&lt;/span&gt; typestoRead = &lt;span class=&quot;type&quot;&gt;Set&lt;/span&gt;([&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;type&quot;&gt;HKObjectType&lt;/span&gt;.categoryTypeForIdentifier(&lt;span class=&quot;type&quot;&gt;HKCategoryTypeIdentifierSleepAnalysis&lt;/span&gt;)!&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        ])&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;let&lt;/span&gt; typestoShare = &lt;span class=&quot;type&quot;&gt;Set&lt;/span&gt;([&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;type&quot;&gt;HKObjectType&lt;/span&gt;.categoryTypeForIdentifier(&lt;span class=&quot;type&quot;&gt;HKCategoryTypeIdentifierSleepAnalysis&lt;/span&gt;)!&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        ])&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.healthStore.requestAuthorizationToShareTypes(typestoShare, readTypes: typestoRead) &amp;#123; (success, error) -&amp;gt; &lt;span class=&quot;type&quot;&gt;Void&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; success == &lt;span class=&quot;literal&quot;&gt;false&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;type&quot;&gt;NSLog&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&quot;请求权限失败&quot;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;这段代码将提示用户&lt;code&gt;Allow&lt;/code&gt;或&lt;code&gt;Dont Allow&lt;/code&gt;你的权限请求。 通过这个completion block,您可以处理成功或错误，并得到最终结果。 让用户授予App所有请求的权限并不是必要的，所以你必须优雅地处理应用程序中的错误。&lt;/p&gt;
&lt;p&gt;但对于测试的目的,你必须选择“Allow”选项给予允许应用程序访问设备的健康数据。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://www.appcoda.com/wp-content/uploads/2016/05/Health-App-Permission.png&quot; alt=&quot;Health-App-Permission&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;写入睡眠分析的数据&quot;&gt;&lt;a href=&quot;#写入睡眠分析的数据&quot; class=&quot;headerlink&quot; title=&quot;写入睡眠分析的数据&quot;&gt;&lt;/a&gt;写入睡眠分析的数据&lt;/h2&gt;&lt;p&gt;首先,我们如何检索睡眠分析数据? 根据Apple的文档,每个睡眠分析样本只能有一个值。 &lt;code&gt;HealthKit&lt;/code&gt;使用两个或更多的样本的叠加来代表用户在床上和睡眠中的状态。 通过比较这些样本的开始和结束时间,应用程序可以二次统计:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;用户进入睡眠所用的时间&lt;/li&gt;
&lt;li&gt;实际睡觉的时间对比在床上的时间的百分比&lt;/li&gt;
&lt;li&gt;用户在床上醒来的次数&lt;/li&gt;
&lt;li&gt;进入睡眠和在床上的时间之和&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;http://www.appcoda.com/wp-content/uploads/2016/05/record_sleep_data-1024x525.png&quot; alt=&quot;record\_sleep\_data&quot;&gt;&lt;/p&gt;
&lt;p&gt;简而言之,你需要遵循以下方法来吧睡眠分析数据保存到&lt;code&gt;HealthKit store&lt;/code&gt;中:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;我们需要定义2个 &lt;code&gt;NSDate&lt;/code&gt;  对象，分别对应起始时间和结束时间。&lt;/li&gt;
&lt;li&gt;然后用&lt;code&gt;HKCategoryTypeIdentifierSleepAnalysis&lt;/code&gt;(这是一个&lt;code&gt;Enum&lt;/code&gt;)创建一个 &lt;code&gt;HKObjectType&lt;/code&gt;对象 .&lt;/li&gt;
&lt;li&gt;我们需要创建一个新的&lt;code&gt;HKCategorySample&lt;/code&gt;的对象,因为我们需要用这个对象来记录睡眠数据。个人样本代表了用户在床上或者睡着了的时间周期。因此我们要创建2个样本，分别是在床上的样本和睡着了的样本的时间&lt;/li&gt;
&lt;li&gt;最后, 我们使用&lt;code&gt;HKHealthStore&lt;/code&gt;的 &lt;code&gt;saveObject&lt;/code&gt; 这个类方法，保存数据.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;编者注&lt;/strong&gt;: 对于&lt;code&gt;HKCategorySample&lt;/code&gt;的类型,可以查看 &lt;a href=&quot;https://developer.apple.com/library/ios/documentation/HealthKit/Reference/HealthKit_Constants/index.html#//apple_ref/doc/uid/TP40014710&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;HealthKit Constants Reference&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;下面我们用Swift来实现上面的4个步骤,保存用户的睡眠数据。 请讲该代码片段放到&lt;code&gt;ViewController&lt;/code&gt;类中。&lt;/p&gt;
&lt;p&gt;代码如下：&lt;/p&gt;
&lt;figure class=&quot;highlight swift&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;saveSleepAnalysis&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt;&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;comment&quot;&gt;// alarmTime 和 endTime 都是 NSDate 对象&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;let&lt;/span&gt; sleepType = &lt;span class=&quot;type&quot;&gt;HKObjectType&lt;/span&gt;.categoryTypeForIdentifier(&lt;span class=&quot;type&quot;&gt;HKCategoryTypeIdentifierSleepAnalysis&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	    &lt;span class=&quot;comment&quot;&gt;// 根据我们想要做的事情,选择相应的类型和起止时间，构造出一个新的HKCategorySample对象，我们将通过这个对象和系统的Health应用进行交互&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	    &lt;span class=&quot;keyword&quot;&gt;let&lt;/span&gt; object = &lt;span class=&quot;type&quot;&gt;HKCategorySample&lt;/span&gt;(type:sleepType, value: &lt;span class=&quot;type&quot;&gt;HKCategoryValueSleepAnalysis&lt;/span&gt;.&lt;span class=&quot;type&quot;&gt;InBed&lt;/span&gt;.rawValue, startDate: &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.alarmTime, endDate: &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.endTime)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	    &lt;span class=&quot;comment&quot;&gt;// 然后，保存下来&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	    healthStore.saveObject(object, withCompletion: &amp;#123; (success, error) -&amp;gt; &lt;span class=&quot;type&quot;&gt;Void&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; error != &lt;span class=&quot;literal&quot;&gt;nil&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	            &lt;span class=&quot;comment&quot;&gt;// 这里可以处理下error&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	            &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; success &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	            &lt;span class=&quot;built_in&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&quot;数据已经保存到Health App中了&quot;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	        &amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	            &lt;span class=&quot;comment&quot;&gt;// 处理其他异常&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	    &amp;#125;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	    &lt;span class=&quot;keyword&quot;&gt;let&lt;/span&gt; object2 = &lt;span class=&quot;type&quot;&gt;HKCategorySample&lt;/span&gt;(type:sleepType, value: &lt;span class=&quot;type&quot;&gt;HKCategoryValueSleepAnalysis&lt;/span&gt;.&lt;span class=&quot;type&quot;&gt;Asleep&lt;/span&gt;.rawValue, startDate: &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.alarmTime, endDate: &lt;span class=&quot;keyword&quot;&gt;self&lt;/span&gt;.endTime)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	    healthStore.saveObject(object2, withCompletion: &amp;#123; (success, error) -&amp;gt; &lt;span class=&quot;type&quot;&gt;Void&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; error != &lt;span class=&quot;literal&quot;&gt;nil&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	            &lt;span class=&quot;comment&quot;&gt;// 这里可以处理下error&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	            &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; success &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	            &lt;span class=&quot;built_in&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&quot;数据已经保存到Health App中了&quot;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	        &amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	            &lt;span class=&quot;comment&quot;&gt;// 处理其他异常&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	    &amp;#125;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;当我们想要保存我们自己App的睡眠数据到HealthKit的时候，可以调用这个方法。&lt;/p&gt;
&lt;h2 id=&quot;读取睡眠分析数据&quot;&gt;&lt;a href=&quot;#读取睡眠分析数据&quot; class=&quot;headerlink&quot; title=&quot;读取睡眠分析数据&quot;&gt;&lt;/a&gt;读取睡眠分析数据&lt;/h2&gt;&lt;p&gt;要读取睡眠分析数据,我们需要创建一个&lt;code&gt;HKSampleQuery&lt;/code&gt;来进行查询。 通过指定&lt;code&gt;HKCategoryTypeIdentifierSleepAnalysis&lt;/code&gt;来创建一个&lt;code&gt;HKObjectType&lt;/code&gt; 的对象 。 您可能还希望使用谓词来过滤获取到的数据，你可以通过指定&lt;code&gt;startDate&lt;/code&gt; 和&lt;code&gt;endDate&lt;/code&gt; 来确定你要查询的时间范围。 你可能还想要创建一个sortDescriptor 来对最终结果进行排序。&lt;/p&gt;
&lt;p&gt;获取睡眠分析结果数据的代码如下：&lt;/p&gt;
&lt;figure class=&quot;highlight swift&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;retrieveSleepAnalysis&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt;&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;comment&quot;&gt;// 首先，通过构造一个HKObjectType，来指定我们要查询的类型&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;let&lt;/span&gt; sleepType = &lt;span class=&quot;type&quot;&gt;HKObjectType&lt;/span&gt;.categoryTypeForIdentifier(&lt;span class=&quot;type&quot;&gt;HKCategoryTypeIdentifierSleepAnalysis&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	    &lt;span class=&quot;comment&quot;&gt;// 使用sortDescriptor来获取到最新的数据&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	    &lt;span class=&quot;keyword&quot;&gt;let&lt;/span&gt; sortDescriptor = &lt;span class=&quot;type&quot;&gt;NSSortDescriptor&lt;/span&gt;(key: &lt;span class=&quot;type&quot;&gt;HKSampleSortIdentifierEndDate&lt;/span&gt;, ascending: &lt;span class=&quot;literal&quot;&gt;false&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	    &lt;span class=&quot;comment&quot;&gt;// 创建一次查询，在下一步执行查询后，会回调这个构造函数的block，我们可以通过这个回调来对获取的结果进行处理&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	    &lt;span class=&quot;keyword&quot;&gt;let&lt;/span&gt; query = &lt;span class=&quot;type&quot;&gt;HKSampleQuery&lt;/span&gt;(sampleType: sleepType, predicate: &lt;span class=&quot;literal&quot;&gt;nil&lt;/span&gt;, limit: &lt;span class=&quot;number&quot;&gt;30&lt;/span&gt;, sortDescriptors: [sortDescriptor]) &amp;#123; (query, tmpResult, error) -&amp;gt; &lt;span class=&quot;type&quot;&gt;Void&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; error != &lt;span class=&quot;literal&quot;&gt;nil&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	            &lt;span class=&quot;comment&quot;&gt;// 这里可以处理下error&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	            &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;let&lt;/span&gt; result = tmpResult &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	            &lt;span class=&quot;comment&quot;&gt;// 处理数据&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	            &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; item &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; result &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	                &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;let&lt;/span&gt; sample = item &lt;span class=&quot;keyword&quot;&gt;as&lt;/span&gt;? &lt;span class=&quot;type&quot;&gt;HKCategorySample&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	                    &lt;span class=&quot;keyword&quot;&gt;let&lt;/span&gt; value = (sample.value == &lt;span class=&quot;type&quot;&gt;HKCategoryValueSleepAnalysis&lt;/span&gt;.&lt;span class=&quot;type&quot;&gt;InBed&lt;/span&gt;.rawValue) ? &lt;span class=&quot;string&quot;&gt;&quot;InBed&quot;&lt;/span&gt; : &lt;span class=&quot;string&quot;&gt;&quot;Asleep&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	                    &lt;span class=&quot;built_in&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&quot;Healthkit sleep: &lt;span class=&quot;subst&quot;&gt;\(sample.startDate)&lt;/span&gt; &lt;span class=&quot;subst&quot;&gt;\(sample.endDate)&lt;/span&gt; - value: &lt;span class=&quot;subst&quot;&gt;\(value)&lt;/span&gt;&quot;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	                &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	            &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	    &lt;span class=&quot;comment&quot;&gt;// 最后执行查询&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	    healthStore.executeQuery(query)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;这段代码做的事情是：指定期望为降序排列，然后向&lt;code&gt;HealthKit&lt;/code&gt;查询所有的睡眠数据。然后每个查询结果都会打印(开始时间，结束时间，睡眠状态)。在构造查询对象时，通过设置&lt;code&gt;limit: 30&lt;/code&gt;来指定需要查询的条数为30条，因为前面的期望为降序排列，所以是最近的30条记录，你可以通过指定&lt;code&gt;predicate&lt;/code&gt;来限定你想要获取记录的开始和结束时间。&lt;/p&gt;
&lt;h2 id=&quot;App测试&quot;&gt;&lt;a href=&quot;#App测试&quot; class=&quot;headerlink&quot; title=&quot;App测试&quot;&gt;&lt;/a&gt;App测试&lt;/h2&gt;&lt;p&gt;在这个demo中，当你点击&lt;code&gt;Start&lt;/code&gt;按钮的时候，我使用了NSTimer来刷新Label的显示，以表示时间的累加。当你点击&lt;code&gt;Start&lt;/code&gt;和&lt;code&gt;Stop&lt;/code&gt;按钮的时候，会分别创建一个&lt;code&gt;NSDate&lt;/code&gt;对象来保存当前时间。当你点击&lt;code&gt;Stop&lt;/code&gt;按钮的时候，会计算2个时间的时间差，然后根据这个时间，保存用户的睡眠数据，在&lt;code&gt;func stop(sender: AnyObject)&lt;/code&gt;中，你可以调用&lt;code&gt;saveSleepAnalysis()&lt;/code&gt; 和 &lt;code&gt;retrieveSleepAnalysis()&lt;/code&gt; 方法来保存和获取用户的睡眠数据。&lt;/p&gt;
&lt;figure class=&quot;highlight swift&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@IBAction&lt;/span&gt; &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;stop&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(sender: AnyObject)&lt;/span&gt;&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	endTime = &lt;span class=&quot;type&quot;&gt;NSDate&lt;/span&gt;()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	saveSleepAnalysis()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	retrieveSleepAnalysis()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	timer.invalidate()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;在你的App中，你可能想要修改NSDate对象来选择相关的开始和结束时间(可能是不同的)来保存在床上和睡着了的状态下的数据。&lt;/p&gt;
&lt;p&gt;一旦你做出了更改，你就可以运行这个demo，接着启动timer。让app运行几分钟，然后点击&lt;code&gt;Stop&lt;/code&gt;按钮。然后，打开&lt;code&gt;Health&lt;/code&gt;应用，你会发现你的App的睡眠数据已经保存在里面了。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://www.appcoda.com/wp-content/uploads/2016/06/sleep-analysis-test-1024x725.png&quot; alt=&quot;sleep-analysis-test&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;给HealthKit-Apps的一些建议&quot;&gt;&lt;a href=&quot;#给HealthKit-Apps的一些建议&quot; class=&quot;headerlink&quot; title=&quot;给HealthKit Apps的一些建议&quot;&gt;&lt;/a&gt;给HealthKit Apps的一些建议&lt;/h2&gt;&lt;p&gt;HealthKit旨在给开发者提供一个公共的平台，用于非常便利地访问和共享用户的健康数据，并且避免任何可能状况下的重复或者异常数据。Apple的审核指南非常明确地指出，如果你App使用了HealthKit来向用户请求读写健康数据的权限，但是不能给出明确的用途的话，你的App是会被拒的。&lt;/p&gt;
&lt;p&gt;保存虚假数据或者不正确的数据到Helath应用的App也会被拒。这意味着，你不能轻信你的App中那些计算健康数据的算法(比如在这个教程中的睡眠分析)。你应该尝试使用内置的传感器数据来读取和操作任何参数，以避免计算出错误的数据。&lt;/p&gt;
&lt;p&gt;在&lt;a href=&quot;https://github.com/appcoda/SleepAnalysis&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;这里&lt;/a&gt;，你可以下载到这个教程对应的完整项目。&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;原文:&lt;a href=&quot;http://www.appcoda.com/sleep-analysis-healthkit/&quot;&gt;链接&lt;/a&gt;&lt;br&gt;译者:&lt;a href=&quot;http://weibo.com/u/1376767097&quot;&gt;Bluelich&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;如今,睡眠分析的彻底改变已经成为一种趋势。用户比以往更加好奇，他们不仅希望知道自己的睡眠时间，比如说什么时候开始进入睡眠等，他们还想要通过获得聚合数据来了解自己的睡眠趋势。而今，硬件和手机的技术革新，给这个正在日益增长的用户群体带来了新的曙光。&lt;/p&gt;
&lt;p&gt;Apple提供了一个非常酷的方式，让你可以以非常安全的方式，通过内置的&lt;code&gt;健康&lt;/code&gt;应用和用户的健康信息进行交互。你不仅仅可以通过使用&lt;code&gt;HealthKit&lt;/code&gt;来&lt;a href=&quot;https://www.appcoda.com/healthkit-introduction/&quot;&gt;构建一个健身App&lt;/a&gt;，该框架还允许你对用户睡眠数据进行分析。&lt;/p&gt;
&lt;p&gt;在这个教程里，我将会对&lt;code&gt;HealthKit&lt;/code&gt;进行一个简单介绍，并演示如何构建一个简单的睡眠分析App。
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Mac OSX平台软件推荐</title>
    <link href="http://bluelich.com/2016/06/11/Mac-OSX%E5%B9%B3%E5%8F%B0%E8%BD%AF%E4%BB%B6%E6%8E%A8%E8%8D%90/"/>
    <id>http://bluelich.com/2016/06/11/Mac-OSX平台软件推荐/</id>
    <published>2016-06-11T14:35:13.000Z</published>
    <updated>2016-07-23T16:15:31.000Z</updated>
    
    <content type="html">&lt;p&gt;&lt;strong&gt;非开发类&lt;/strong&gt;&lt;br&gt;1.&lt;code&gt;WeiboX&lt;/code&gt;:Mac上看微博必备&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xt8tf.com1.z0.glb.clouddn.com/1-1.png/blog&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;2.&lt;code&gt;1Password&lt;/code&gt;:同步账户密码,license等的神器,最好买MAS版本,可以用iCloud&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xt8tf.com1.z0.glb.clouddn.com/1-2.png/blog&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;3.&lt;code&gt;Alfred&lt;/code&gt;:Mac上最好用的workflow工具,是个效率工具&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xt8tf.com1.z0.glb.clouddn.com/1-3.png/blog&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;4.&lt;code&gt;Aria2&lt;/code&gt;:Mac上百度,迅雷,115网盘下载的神器,需要配合chrome的插件使用&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xt8tf.com1.z0.glb.clouddn.com/1-4.png/blog&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;5.&lt;code&gt;Bartender&lt;/code&gt;:最好用的StatusBar管理工具,可以选择隐藏一些不会经常去手动操作的App的icon&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xt8tf.com1.z0.glb.clouddn.com/1-5.png/blog&quot; alt=&quot;&quot;&gt;&lt;br&gt;6.&lt;code&gt;BetterSnapTool&lt;/code&gt;:窗口管理工具,对键盘党来说,应该是最好用的了&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xt8tf.com1.z0.glb.clouddn.com/1-6.png/blog&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;7.&lt;code&gt;BetterTouchTool&lt;/code&gt;:触摸板功能扩展工具&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xt8tf.com1.z0.glb.clouddn.com/1-7.png/blog&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;8.&lt;code&gt;Bilibili&lt;/code&gt;:非官方客户端&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xt8tf.com1.z0.glb.clouddn.com/1-8.png/blog&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;9.&lt;code&gt;Boom2&lt;/code&gt;:Mac音效增强工具,对声音稍敏感些的人,用过就离不开的App,iOS上的App也已经在前段时间上架&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xt8tf.com1.z0.glb.clouddn.com/1-9.png/blog&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;10.&lt;code&gt;CheatSheet&lt;/code&gt;:长按⌘,就可以显示当前App的基本上所有的快捷键&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xt8tf.com1.z0.glb.clouddn.com/1-10.png/blog&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;11.&lt;code&gt;CleanMyMac&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xt8tf.com1.z0.glb.clouddn.com/1-11.png/blog&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;12.&lt;code&gt;Commander One Pro&lt;/code&gt;:目前Mac上可以完全代替Finder的唯一工具,功能强大&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xt8tf.com1.z0.glb.clouddn.com/1-12.png/blog&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;13.&lt;code&gt;Downie&lt;/code&gt;:粘贴上一个视频网站的链接,就可以自动解析出视频地址,并下载的App,支持Youtube,Youku等大部分网站&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xt8tf.com1.z0.glb.clouddn.com/1-13.png/blog&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;14.&lt;code&gt;Duet&lt;/code&gt;:支持把iPhone,iPad,甚至是win的屏幕作为屏幕扩展的一款软件,由Apple前工程师开发&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xt8tf.com1.z0.glb.clouddn.com/1-14.png/blog&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;15.&lt;code&gt;欧陆词典&lt;/code&gt;:Mac上最好用的词典,内置多种词库,支持云同步&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xt8tf.com1.z0.glb.clouddn.com/1-15.png/blog&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;16.&lt;code&gt;Feedly&lt;/code&gt;:RSS阅读器&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xt8tf.com1.z0.glb.clouddn.com/1-16.png/blog&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;17.&lt;code&gt;Folx&lt;/code&gt;:非常强大的下载工具,通常会比迅雷等下载的快一些&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xt8tf.com1.z0.glb.clouddn.com/1-17.png/blog&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;18.&lt;code&gt;HazeOver&lt;/code&gt;:使用后,会自动把激活窗口高亮,帮你集中注意力&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xt8tf.com1.z0.glb.clouddn.com/1-18.png/blog&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;19.&lt;code&gt;InsomniaX&lt;/code&gt;:有几个不是太常用的功能,比如可以在你合上盖子的时候不中断下载等&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xt8tf.com1.z0.glb.clouddn.com/1-19.png/blog&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;20.&lt;code&gt;iStat Menus&lt;/code&gt;:用的最多的一般都是它的网速显示小工具&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xt8tf.com1.z0.glb.clouddn.com/1-20-1.png/blog&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xt8tf.com1.z0.glb.clouddn.com/1-20-2.png/blog&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;21.&lt;code&gt;Magnet&lt;/code&gt;:同样是窗口管理工具,但是非常便宜&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xt8tf.com1.z0.glb.clouddn.com/1-21.png/blog&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;22.&lt;code&gt;Manico&lt;/code&gt;:非常方便的用键盘切换App的应用&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xt8tf.com1.z0.glb.clouddn.com/1-22.png/blog&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;23.&lt;code&gt;Mark Man&lt;/code&gt;:通常是设计师用来标注的软件,不过好些开发用的最多&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xt8tf.com1.z0.glb.clouddn.com/1-23.png/blog&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;24.&lt;code&gt;Moom&lt;/code&gt;:可能是目前最出名的窗口管理工具,还可以&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xt8tf.com1.z0.glb.clouddn.com/1-24.png/blog&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;25.&lt;code&gt;Mou&lt;/code&gt;:读写Markdown的必备软件. 作者曾经说要上架1.0版本,结果1年多了,还是没消息,但是0.8.7的beta版也是蛮好用的,就是代码块支持的不太好,作者说在1.0会支持,但是明显是不可能了&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xt8tf.com1.z0.glb.clouddn.com/1-25.png/blog&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;26.&lt;code&gt;Mounty&lt;/code&gt;:可以不用装插件,让Mac支持NTFS&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xt8tf.com1.z0.glb.clouddn.com/1-26.png/blog&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;27.&lt;code&gt;MWeb&lt;/code&gt;:用来写markdown的另外一款软件,目前除了Mou,大部分人用的应该都是它&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xt8tf.com1.z0.glb.clouddn.com/1-27.png/blog&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;28.&lt;code&gt;Near Lock&lt;/code&gt;:利用BLE4.0技术,自动lock/unlock 你的Mac的一个软件,软件功能目前已经非常稳定了&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xt8tf.com1.z0.glb.clouddn.com/1-28.png/blog&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;29.&lt;code&gt;网易云音乐&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xt8tf.com1.z0.glb.clouddn.com/1-29.png/blog&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;30.&lt;code&gt;OmniGraffle&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xt8tf.com1.z0.glb.clouddn.com/1-30.png/blog&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;31.&lt;code&gt;Paste&lt;/code&gt;:剪贴板管理软件,颜值比较高,不过暂时不能云同步&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xt8tf.com1.z0.glb.clouddn.com/1-31.png/blog&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;32.&lt;code&gt;Pocket&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xt8tf.com1.z0.glb.clouddn.com/1-32.png/blog&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;33.&lt;code&gt;PopClip&lt;/code&gt;:一个功能强大的小工具,popup一个小工具条,然后通过它的插件来实现一些功能&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xt8tf.com1.z0.glb.clouddn.com/1-33-1.png/blog&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xt8tf.com1.z0.glb.clouddn.com/1-33-2.png/blog&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;34.&lt;code&gt;PPDuck&lt;/code&gt;:图片压缩工具,自动选择最优方案,速度较快,好像都是有损压缩&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xt8tf.com1.z0.glb.clouddn.com/1-34.png/blog&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;35.&lt;code&gt;Proxifier&lt;/code&gt;:功能跟名字一样&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xt8tf.com1.z0.glb.clouddn.com/1-35.png/blog&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;36.&lt;code&gt;Reeder&lt;/code&gt;:Rss阅读工具,支持者比较多,我自己没用这个&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xt8tf.com1.z0.glb.clouddn.com/1-36.png/blog&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;37.&lt;code&gt;Leaf&lt;/code&gt;:Rss阅读工具&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xt8tf.com1.z0.glb.clouddn.com/1-37.png/blog&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;38.&lt;code&gt;ShadowsocksX&lt;/code&gt;:Mac上使用ss的必备工具&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xt8tf.com1.z0.glb.clouddn.com/1-38.png/blog&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;39.&lt;code&gt;Spotify&lt;/code&gt;:音乐软件,不过不付费的话,会有广告&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xt8tf.com1.z0.glb.clouddn.com/1-39.png/blog&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;40.&lt;code&gt;Surge&lt;/code&gt;:又是一个强大的梯子,每个月需要用iOS端的App激活一次&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xt8tf.com1.z0.glb.clouddn.com/1-40.png/blog&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;41.&lt;code&gt;SwitchHosts&lt;/code&gt;:host管理工具,特别是经常需要切换host的人,非常有用&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xt8tf.com1.z0.glb.clouddn.com/1-41.png/blog&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;42.&lt;code&gt;The Unarchiver&lt;/code&gt;:解压缩工具,MAS上免费&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xt8tf.com1.z0.glb.clouddn.com/1-42.png/blog&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;43.&lt;code&gt;Tickeys&lt;/code&gt;:一个有趣的软件,可以自己尝试下(免费)&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xt8tf.com1.z0.glb.clouddn.com/1-43.png/blog&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;44.&lt;code&gt;Ulysses&lt;/code&gt;:在MWeb出来前是最好用的Markdown写作软件(当然,现在也是!)&lt;br&gt;不过MWeb的用户可能会更多些(因为便宜py)&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xt8tf.com1.z0.glb.clouddn.com/1-44.png/blog&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;45.&lt;code&gt;Yoink&lt;/code&gt;:随时随地暂存文件的工具,可以拖动任何格式的文件到它的管理区内,这样的软件比较多,但是这个比较好用些&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xt8tf.com1.z0.glb.clouddn.com/1-45-1.png/blog&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xt8tf.com1.z0.glb.clouddn.com/1-45-2.png/blog&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;46.&lt;code&gt;鼠须管:&lt;/code&gt;神级输入法,有一定的门槛,但是如果要求不高,那就和普通输入法基本一样,不需要什么配置,主题,词库之类的配置起来也非常容易&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xt8tf.com1.z0.glb.clouddn.com/1-46.png/blog&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;开发类&lt;/strong&gt;&lt;br&gt;1.&lt;code&gt;AliasManage&lt;/code&gt;:alias管理工具,首次使用需要选择.bashsrc 或者.zshrc等终端配置文件&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xt8tf.com1.z0.glb.clouddn.com/2-1.png/blog&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;2.&lt;code&gt;Atom&lt;/code&gt;:Github出品的一个写代码的工具,和Sublime类似,但是颜值比较高,交互也不错,插件也比较多&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xt8tf.com1.z0.glb.clouddn.com/2-2.png/blog&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;3.&lt;code&gt;Base&lt;/code&gt;:好用的数据库管理工具&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xt8tf.com1.z0.glb.clouddn.com/2-3.png/blog&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;4.&lt;code&gt;Charles&lt;/code&gt;:非常强大的网络调试工具&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xt8tf.com1.z0.glb.clouddn.com/2-4.png/blog&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;5.&lt;code&gt;Dash&lt;/code&gt;:开发文档管理和查看工具,支持非常多的语言,还支持google和stackoverflow&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xt8tf.com1.z0.glb.clouddn.com/2-5.png/blog&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;6.&lt;code&gt;dSYM&lt;/code&gt;:Crash log自动分析的好工具&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xt8tf.com1.z0.glb.clouddn.com/2-6.png/blog&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;7.&lt;code&gt;FileZilla&lt;/code&gt;:开源的FTP工具&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xt8tf.com1.z0.glb.clouddn.com/2-7.png/blog&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;8.&lt;code&gt;RegexToolBox&lt;/code&gt;:正则测试工具&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xt8tf.com1.z0.glb.clouddn.com/2-8.png/blog&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;9.&lt;code&gt;WWDC&lt;/code&gt;:wwdc资源下载工具,也可以在线看&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xt8tf.com1.z0.glb.clouddn.com/2-9.png/blog&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;10.&lt;code&gt;Hopper Disassembler&lt;/code&gt;:逆向必备,比IDA容易很多&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xt8tf.com1.z0.glb.clouddn.com/2-10.png/blog&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;11.&lt;code&gt;Hype&lt;/code&gt;:无需代码的web开发的工具&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xt8tf.com1.z0.glb.clouddn.com/2-11.png/blog&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;12.&lt;code&gt;iTerm&lt;/code&gt;:替代系统自带终端的工具,配合zsh,非常好用&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xt8tf.com1.z0.glb.clouddn.com/2-12.png/blog&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;13.&lt;code&gt;VSCode&lt;/code&gt;:微软出品的一个写代码的工具,插件不是很多,但是非常干净整洁&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xt8tf.com1.z0.glb.clouddn.com/2-13.png/blog&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;14.&lt;code&gt;PaintCode&lt;/code&gt;:把设计稿自动转换为代码的工具&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xt8tf.com1.z0.glb.clouddn.com/2-14.png/blog&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;15.&lt;code&gt;Paw&lt;/code&gt;:接口调试工具&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xt8tf.com1.z0.glb.clouddn.com/2-15.png/blog&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;16.&lt;code&gt;Prepo&lt;/code&gt;:提供一个1024的png,就可以生成所有尺寸的icon,非常好用,还免费&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xt8tf.com1.z0.glb.clouddn.com/2-16.png/blog&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;17.&lt;code&gt;Reveal&lt;/code&gt;:iOS开发调试工具,可以显示所有的视图层级;如果有越狱设备,还可以查看任意一个设备里安装的app的视图结构&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xt8tf.com1.z0.glb.clouddn.com/2-17.png/blog&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;18.&lt;code&gt;SimPholders&lt;/code&gt;:方便的沙盒定位工具,不过目前已经收费了,可以找之前的免费版本&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xt8tf.com1.z0.glb.clouddn.com/2-18.png/blog&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;19.&lt;code&gt;Sip&lt;/code&gt;:取色工具,比系统自带的强大,可以自动生成代码,有历史列表的支持&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xt8tf.com1.z0.glb.clouddn.com/2-19.png/blog&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;20.&lt;code&gt;Sketch&lt;/code&gt;:设计类软件,但是开发用的也不少,画一些简单的原型图什么的,非常方便&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xt8tf.com1.z0.glb.clouddn.com/2-20.png/blog&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;21.&lt;code&gt;SnippetsLab&lt;/code&gt;:可以保存你的代码块,支持云同步&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xt8tf.com1.z0.glb.clouddn.com/2-21.png/blog&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;22.&lt;code&gt;Spark Inspector&lt;/code&gt;:和Reveal一样,但是可以自动刷新,非常方便,但是目前好像是不支持真机调试&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xt8tf.com1.z0.glb.clouddn.com/2-22.png/blog&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;23.&lt;code&gt;sqlitbrowser&lt;/code&gt;:免费的sqlite数据库管理工具&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xt8tf.com1.z0.glb.clouddn.com/2-23.png/blog&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;24.&lt;code&gt;TextWrangler&lt;/code&gt;:又一个强大的文本编辑器,免费&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xt8tf.com1.z0.glb.clouddn.com/2-24.png/blog&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;25.&lt;code&gt;还有一些功能强大,但是用起来比较危险的软件,就不介绍了&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&quot;有这么几个网站可以关注下&quot;&gt;&lt;a href=&quot;#有这么几个网站可以关注下&quot; class=&quot;headerlink&quot; title=&quot;有这么几个网站可以关注下:&quot;&gt;&lt;/a&gt;有这么几个网站可以关注下:&lt;/h3&gt;&lt;p&gt;1.&lt;a href=&quot;https://bundlehunt.com&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://bundlehunt.com&lt;/a&gt;&lt;br&gt;&lt;code&gt;经常会有software-bundle 出售,一般都是$19.99,或者$21.99,老牌软件厂商喜欢参加这个活动,降价幅度很大&lt;/code&gt;&lt;br&gt;2.&lt;a href=&quot;http://free.apprcn.com/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;反斗限免&lt;/a&gt;&lt;br&gt;&lt;code&gt;Android, iOS, Windows, BLACKBERRY 10平台的限免软件都有, 不过一般限免都有时间限制, 可以关注他们的微信公众号和微博,比较方便&lt;/code&gt;&lt;br&gt;3.&lt;a href=&quot;https://stacksocial.com/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://stacksocial.com/&lt;/a&gt;&lt;br&gt;&lt;code&gt;这个网站有时候会有免费的bundle,但是如果订阅了的话,会很烦,因为它经常会给你发邮件,频率比较高....&lt;/code&gt;&lt;br&gt;4.&lt;a href=&quot;http://appshopper.com/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://appshopper.com/&lt;/a&gt;&lt;br&gt;&lt;code&gt;各种App限免,降价等资讯的主要来源&lt;/code&gt;&lt;br&gt;5.&lt;code&gt;凑够5个&lt;/code&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;购买正版App的几个建议：&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;1.尽量选择在 Mac AppStore（简称MAS）上购买,只有 MAS 渠道的可以使用 iCloud 同步!&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  而且MAS版本的一般没有授权限制，并且不需要你用记事软件等记录license/key，省却了一堆的麻烦事！ &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2.如果软件还在官网等渠道销售，而且版本迭代比 MAS 快很多，最好在其他渠道购买 &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3.关注 bundlehunt，反斗限免，appshopper 等网站，购买降价，限免,或者是多个软件的低价bundle&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;后续几篇预告:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;1.Xcode plugin&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2.Alfred workflow入门&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3.Alfred workflow高手进阶&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4.开发类书籍推荐&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;注:前面的序号和文章发布的顺序无关&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;strong&gt;非开发类&lt;/strong&gt;&lt;br&gt;1.&lt;code&gt;WeiboX&lt;/code&gt;:Mac上看微博必备&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xt8tf.com1.z0.glb.clouddn.com/1-1.png/blog&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;2.&lt;code&gt;1Password&lt;/code&gt;:同步账户密码,license等的神器,最好买MAS版本,可以用iCloud&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xt8tf.com1.z0.glb.clouddn.com/1-2.png/blog&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;3.&lt;code&gt;Alfred&lt;/code&gt;:Mac上最好用的workflow工具,是个效率工具
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Linus Torva</title>
    <link href="http://bluelich.com/2016/04/30/Linus-Torva/"/>
    <id>http://bluelich.com/2016/04/30/Linus-Torva/</id>
    <published>2016-04-30T15:55:09.000Z</published>
    <updated>2016-07-23T16:14:29.000Z</updated>
    
    <content type="html">&lt;h2 id=&quot;转载-译-Linux25-周年：专访-Linux-之父&quot;&gt;&lt;a href=&quot;#转载-译-Linux25-周年：专访-Linux-之父&quot; class=&quot;headerlink&quot; title=&quot;[转载(译)]Linux25 周年：专访 Linux 之父&quot;&gt;&lt;/a&gt;[转载(译)]Linux25 周年：专访 Linux 之父&lt;/h2&gt;&lt;p&gt;&lt;a href=&quot;http://spectrum.ieee.org/computing/software/linux-at-25-qa-with-linus-torvalds&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;原文(英文)&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;http://tech2ipo.com/10028810&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;中文&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;1991年，22岁的Linus Torvalds设计了Linux的系统内核。在Linux系统诞生25周年之际，Linux之父在采访中回忆了这四分之一个世纪以来他和Linux的故事。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xt8tf.com1.z0.glb.clouddn.com/linus.png/blog&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;1991 年，22 岁的 Linus Torvalds 一边在芬兰赫尔辛基大学学习计算机，一边设计了 Linux 的系统内核。之后，Linux 迅速发展为一个可以在智能手机、服务器等各种平台上运行的功能全面的开源操作系统。在 Linux 系统诞生 25 周年之际，Linux 之父 Linus Torvalds 在采访中回忆了这四分之一个世纪以来他和 Linux 的故事。&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h6 id=&quot;记者：现在你比二十五年前要有更丰富的编程经验，有什么你希望自己在当年刚开发-Linux-的时候就知道的吗？&quot;&gt;&lt;a href=&quot;#记者：现在你比二十五年前要有更丰富的编程经验，有什么你希望自己在当年刚开发-Linux-的时候就知道的吗？&quot; class=&quot;headerlink&quot; title=&quot;记者：现在你比二十五年前要有更丰富的编程经验，有什么你希望自己在当年刚开发 Linux 的时候就知道的吗？&quot;&gt;&lt;/a&gt;记者：现在你比二十五年前要有更丰富的编程经验，有什么你希望自己在当年刚开发 Linux 的时候就知道的吗？&lt;/h6&gt;&lt;p&gt;Linus Torvalds：现在想起来，我觉得自己当年真是初生牛犊不怕虎。如果当时我真的知道从头建立一个操作系统的难度，肯定是不会有勇气去做的。这种年少无知也让我从一开始就没有按照前人的老路编程编写内核。&lt;br&gt;我既不知道自己想要的系统应该怎么做，也不知道其他的操作系统是怎么完成的。所以我会认真考虑和接受其他人提出的好建议。这样的开始让 Linux 成为了开源系统。用户们不需要全盘接受任何一个版本，任何人都可以按照自己的想法改写出自己的版本来。我觉得这种开源的方式让创造出一个好系统更容易，也鼓励了很多编程爱好者人参与进来。&lt;/p&gt;
&lt;h6 id=&quot;记者：有没有让你现在感到后悔的-Linux-早期技术决策呢？&quot;&gt;&lt;a href=&quot;#记者：有没有让你现在感到后悔的-Linux-早期技术决策呢？&quot; class=&quot;headerlink&quot; title=&quot;记者：有没有让你现在感到后悔的 Linux 早期技术决策呢？&quot;&gt;&lt;/a&gt;记者：有没有让你现在感到后悔的 Linux 早期技术决策呢？&lt;/h6&gt;&lt;p&gt;Linus Torvalds：糟糕的决策都是可以改的。那些因为决策错误走了弯路所浪费的时间和精力会让人很烦躁。不过到最后，往往都可以从错误中吸取经验，所以一切都是值得的。我宁可迅速决策，哪怕做错了也比纠结太久要好。&lt;br&gt;在 2001 年左右 Linux 的虚拟内存子系统出了问题时，大家关于未来的方向争论不休，而且内存配置也出了问题。但是现在回过头看，虽然过程很痛苦，但是这些问题并不能毁灭 Linux。这值得我们骄傲。&lt;/p&gt;
&lt;h6 id=&quot;记者：Linux-在迅速发展的过程中，让你印象比较深的转变是哪几次？&quot;&gt;&lt;a href=&quot;#记者：Linux-在迅速发展的过程中，让你印象比较深的转变是哪几次？&quot; class=&quot;headerlink&quot; title=&quot;记者：Linux 在迅速发展的过程中，让你印象比较深的转变是哪几次？&quot;&gt;&lt;/a&gt;记者：Linux 在迅速发展的过程中，让你印象比较深的转变是哪几次？&lt;/h6&gt;&lt;p&gt;Linus Torvalds：两个转变过渡让我印象最深刻。第一次是很早在 1992 的时候，当其他热心的用户开始把他们完成的补丁发给我时，我已经独立开发了 6 个月，我还不太习惯用。所以我会仔细地检查他们想修复的是哪个问题，然后自己再写一遍。有时候跟他们写得非常像，也有时候会有大不相同。&lt;br&gt;再然后，我开始信任一些用户，直接应用他们的补丁。而不是什么都自己重写一遍。只要我有时间，还是会经常修改他们的补丁。那段时间我练就了一身迅速读补丁然后修改的功夫，感觉自己闭眼都能完成。&lt;br&gt;之后 Linux 就这样运行了很久。习惯了这样的模式，第二次改变就困难了很多。是在 2000 年前后，当时 Linux 已经有了很多商业应用，而且用户量也越来越大。大家都开始抱怨我的工作速度已经在影响 Linux 的效率。但是那时也合适的工具来管理开发资源。&lt;br&gt;所以我们引进了 BItKeeper 作为源代码的维护工具。Bitkeeper 允许真正的分布式开发，每个人都拥有自己的主副本。在当时成倍提高了内核的开发效率，并且让我意识到程序员们可以在一个分布式的开发模型中一起工作，而我不应该是唯一的同步点。&lt;br&gt;后来 2005 年我开始以分布式源控制管理的思想着手开发 Git，为了作为一种过渡方案来替代 BitKeeper。虽然让开发人员认可 Git 花了不少功夫，但是 Git 作为一个开放源码的版本控制软件获得了巨大的成功。&lt;br&gt;&lt;img src=&quot;http://upload-images.jianshu.io/upload_images/139624-e4cce1e0bca753ab?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h6 id=&quot;记者：你怎么看-Linux-并没有成为个人电脑的主流操作系统呢&quot;&gt;&lt;a href=&quot;#记者：你怎么看-Linux-并没有成为个人电脑的主流操作系统呢&quot; class=&quot;headerlink&quot; title=&quot;记者：你怎么看 Linux 并没有成为个人电脑的主流操作系统呢?&quot;&gt;&lt;/a&gt;记者：你怎么看 Linux 并没有成为个人电脑的主流操作系统呢?&lt;/h6&gt;&lt;p&gt;Linus Torvalds：在这方面，Linux 还需要继续努力。个人电脑是用户非常私人化的。为什么个人电脑使用 Linux 系统的用户不够多呢？我觉得用户惯性是很重要的原因之一。有了电脑出厂时预置的操作系统，大多数人不会轻易重装自己电脑的操作系统。现在，比如 Chromebooks（谷歌上网，Linus 本人多次称赞）上安装 Linux 操作系统就不错，虽然功能有限。&lt;br&gt;不过，对于用户而言同样私密同样重要的智能手机方面，多谢基于 Linux 内核的 Android，Linux 应用量还比较不错。&lt;/p&gt;
&lt;h6 id=&quot;记者：Linux-最让你惊讶的地方是什么呢？&quot;&gt;&lt;a href=&quot;#记者：Linux-最让你惊讶的地方是什么呢？&quot; class=&quot;headerlink&quot; title=&quot;记者：Linux 最让你惊讶的地方是什么呢？&quot;&gt;&lt;/a&gt;记者：Linux 最让你惊讶的地方是什么呢？&lt;/h6&gt;&lt;p&gt;现在很少会惊讶的感觉了。毕竟 Linux 已经成为很多新硬件专业的设备或一些新的网络基础设施或什么的的默认开发环境。会让我惊讶的往往是人们又赋予了 Linux 一些新的应用领域，比如在我还认为 Linux 只能作为工作站或者服务器的操作系统时，又有一些厂商选择 Linux 作为冰箱或电视（比如 TiVo）的操作程序，让我吃了一惊。&lt;/p&gt;
&lt;h6 id=&quot;记者：你认为-Linux-目前面临的最大挑战是什么呢？&quot;&gt;&lt;a href=&quot;#记者：你认为-Linux-目前面临的最大挑战是什么呢？&quot; class=&quot;headerlink&quot; title=&quot;记者：你认为 Linux 目前面临的最大挑战是什么呢？&quot;&gt;&lt;/a&gt;记者：你认为 Linux 目前面临的最大挑战是什么呢？&lt;/h6&gt;&lt;p&gt;Linus Torvalds：用户经常担心 Linux 的系统内核会变得越来越复杂，从而变得难以理解，一旦有错误也难以修复。不过实际上现在 Linux 内核运转的非常好。另一个我们面临的持续挑战就是很多运载着 Linux 系统的电子设备不断更新后的适配问题。不过现在很多厂商会帮助我们进行调整，已经比之前好很多了。很多开源项目一定很嫉妒我们所拥有的资源。&lt;/p&gt;
&lt;h6 id=&quot;记者：最近的科技的发展方向上，你最感兴趣的是什么？&quot;&gt;&lt;a href=&quot;#记者：最近的科技的发展方向上，你最感兴趣的是什么？&quot; class=&quot;headerlink&quot; title=&quot;记者：最近的科技的发展方向上，你最感兴趣的是什么？&quot;&gt;&lt;/a&gt;记者：最近的科技的发展方向上，你最感兴趣的是什么？&lt;/h6&gt;&lt;p&gt;Linus Torvalds：我一直对核心硬件很感兴趣，尤其是 CPU。这是我开始独立开发操作系统的原因。我会很高兴看到新的硬件出现。当然，大多数时间是在现有的硬件改动很小，但技术的发展就应该是这样一小步一小步进行的。我会一直关注相关领域的发展。&lt;br&gt;虽然我自己没有从事相关领域的工作，但我也非常感兴趣人工智能的发展。人工智能一直被认为是即将实现，但是一直没有真的实现的东西。不过最近有迹象表明人工智能的实现指日可待，我也跟大家一样很期待。人工智能的特点在于可以学习，不再需人类编程进行控制。但是我认为这也是为什么他们永远没法代替传统的电脑编程。人类的确需要聪明的机器，但是人类也需要会乖乖听话做事的机器。&lt;/p&gt;
&lt;h6 id=&quot;记者：你觉得-Linux-在-50-周年的时候还会一如现在一样流行吗？&quot;&gt;&lt;a href=&quot;#记者：你觉得-Linux-在-50-周年的时候还会一如现在一样流行吗？&quot; class=&quot;headerlink&quot; title=&quot;记者：你觉得 Linux 在 50 周年的时候还会一如现在一样流行吗？&quot;&gt;&lt;/a&gt;记者：你觉得 Linux 在 50 周年的时候还会一如现在一样流行吗？&lt;/h6&gt;&lt;p&gt;Linus Torvalds：把去预测 Linux 的未来会是什么样的问题交给评论家们吧，我更愿意做一个脚踏实地的工程师，每天尽全力专注于 Linux 的每一个小问题和小决策。&lt;/p&gt;
&lt;p&gt;本文由 TECH2IPO / 创见 二两白 编译，译文由创见首发，转载请注明&lt;a href=&quot;http://tech2ipo.com/10028810&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;出处&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;转载-译-Linux25-周年：专访-Linux-之父&quot;&gt;&lt;a href=&quot;#转载-译-Linux25-周年：专访-Linux-之父&quot; class=&quot;headerlink&quot; title=&quot;[转载(译)]Linux25 周年：专访 Linux 之父&quot;&gt;&lt;/a&gt;[转载(译)]Linux25 周年：专访 Linux 之父&lt;/h2&gt;&lt;p&gt;&lt;a href=&quot;http://spectrum.ieee.org/computing/software/linux-at-25-qa-with-linus-torvalds&quot;&gt;原文(英文)&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;http://tech2ipo.com/10028810&quot;&gt;中文&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;1991年，22岁的Linus Torvalds设计了Linux的系统内核。在Linux系统诞生25周年之际，Linux之父在采访中回忆了这四分之一个世纪以来他和Linux的故事。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://7xt8tf.com1.z0.glb.clouddn.com/linus.png/blog&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;1991 年，22 岁的 Linus Torvalds 一边在芬兰赫尔辛基大学学习计算机，一边设计了 Linux 的系统内核。之后，Linux 迅速发展为一个可以在智能手机、服务器等各种平台上运行的功能全面的开源操作系统。在 Linux 系统诞生 25 周年之际，Linux 之父 Linus Torvalds 在采访中回忆了这四分之一个世纪以来他和 Linux 的故事。
    
    </summary>
    
    
      <category term="转载" scheme="http://bluelich.com/tags/%E8%BD%AC%E8%BD%BD/"/>
    
  </entry>
  
  <entry>
    <title>简单算法实现之《中国剩余定理》</title>
    <link href="http://bluelich.com/2016/04/24/%E7%AE%80%E5%8D%95%E7%AE%97%E6%B3%95%E5%AE%9E%E7%8E%B0%E4%B9%8B%E3%80%8A%E4%B8%AD%E5%9B%BD%E5%89%A9%E4%BD%99%E5%AE%9A%E7%90%86%E3%80%8B/"/>
    <id>http://bluelich.com/2016/04/24/简单算法实现之《中国剩余定理》/</id>
    <published>2016-04-24T09:37:00.000Z</published>
    <updated>2016-06-18T10:54:36.000Z</updated>
    
    <content type="html">&lt;p&gt;&lt;a href=&quot;https://zh.wikipedia.org/wiki/%E4%B8%AD%E5%9B%BD%E5%89%A9%E4%BD%99%E5%AE%9A%E7%90%86&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;中国剩余定理&lt;/a&gt;&lt;br&gt;这个定理之前没见过，是在&lt;a href=&quot;http://www.ruanyifeng.com/blog/2013/06/rsa_algorithm_part_one.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;RSA算法原理（一）&lt;/a&gt;中提到的，想深入了解的可以去读下。&lt;/p&gt;
&lt;h5 id=&quot;故事背景&quot;&gt;&lt;a href=&quot;#故事背景&quot; class=&quot;headerlink&quot; title=&quot;故事背景&quot;&gt;&lt;/a&gt;故事背景&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;韩信点兵&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;秦朝末年，楚汉相争。一次，韩信将1500名将士与楚王大将李锋交战。苦战一场，楚军不敌，败退回营，汉军也死伤四五百人，于是韩信整顿兵马也返回大本营。当行至一山坡，忽有后军来报，说有楚军骑兵追来。只见远方尘土飞扬，杀声震天。汉军本来已十分疲惫，这时队伍大哗。韩信兵马到坡顶，见来敌不足五百骑，便急速点兵迎敌。他命令士兵3人一排，结果多出2名；接着命令士兵5人一排，结果多出3名；他又命令士兵7人一排，结果又多出2名。韩信马上向将士们宣布：我军有1073名勇士，敌人不足五百，我们居高临下，以众击寡，一定能打败敌人。汉军本来就信服自己的统帅，这一来更相信韩信是“神仙下凡”、“神机妙算”。于是士气大振。一时间旌旗摇动，鼓声喧天，汉军步步进逼，楚军乱作一团。交战不久，楚军大败而逃。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;题目就是：将军点兵，三三数余2，五五数余3，七七数余2。问兵几何？&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;孙子算经&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;今有物，不知其数，三三数之，剩二，五五数之，剩三，七七数之，剩二，问物几何？&lt;br&gt;答曰：二十三　　&lt;br&gt;术曰：三三数之剩二，置一百四十，五五数之剩三，置六十三，七七数之剩二，置三十，并之，得二百三十三，以二百一十减之，即得。凡三三数之剩一，则置七十，五五数之剩一，则置二十一，七七数之剩一，则置十五，即得。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;《孙子算经》里给出了解决办法&lt;/p&gt;
&lt;h6 id=&quot;步骤一&quot;&gt;&lt;a href=&quot;#步骤一&quot; class=&quot;headerlink&quot; title=&quot;步骤一&quot;&gt;&lt;/a&gt;步骤一&lt;/h6&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;除3余2 -&amp;gt; 取140&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;除5余3 -&amp;gt; 取63&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;除7余2 -&amp;gt; 取30&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h6 id=&quot;步骤二：&quot;&gt;&lt;a href=&quot;#步骤二：&quot; class=&quot;headerlink&quot; title=&quot;步骤二：&quot;&gt;&lt;/a&gt;步骤二：&lt;/h6&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;对上面取到的数求和&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;140 + 63 + 30 = 233&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h6 id=&quot;步骤三&quot;&gt;&lt;a href=&quot;#步骤三&quot; class=&quot;headerlink&quot; title=&quot;步骤三&quot;&gt;&lt;/a&gt;步骤三&lt;/h6&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;用上面求出的结果减去210，就是结果&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;233 - 210 = 23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;结果也就是23了&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;不过那140，63，30，还有210是怎么来的呢？这就涉及到中国剩余定理的算法原理了。&lt;/p&gt;
&lt;h3 id=&quot;中国剩余定理原理&quot;&gt;&lt;a href=&quot;#中国剩余定理原理&quot; class=&quot;headerlink&quot; title=&quot;中国剩余定理原理&quot;&gt;&lt;/a&gt;中国剩余定理原理&lt;/h3&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;#题目：&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;设要求的数为x，每个除法的结果分别为k1，k2，k3，那么就有：&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[1]  x / 3 = k1 + 2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[2]  x / 5 = k2 + 3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[3]  x / 7 = k3 + 2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1.对步骤一中的式子1求解过程为：取式子2和式子3中除数（5和7）的最小公倍数LCM（35），&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;然后把这个LCM作为x带入式子1。如果LCM不能适应式子1，就对LCM再加上一个LCM，&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;然后带入式子1中......直到满足式子1为止。&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;按照这个求解过程，分别对3个式子求解，取到的结果为：35，63，30&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;2.把上面求到的结果求和&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35 + 63 + 30 = 128&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;3.这里对3个式子的除数取最小公倍数&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3，5，7的最小公倍数为105&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;然后用上面的结果减去这个最小公倍数，就是结果了&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;128 - 105 = 23&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;code&gt;这里估计有人要问了：这个35也不是140，而且105也不等于210啊？！
这个不用纠结，这个跟古代数学的发展史有关嘛！
当然，这是我瞎说的，想要深挖的可以去研究下相关资料。&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;-&lt;/p&gt;
&lt;h2 id=&quot;下面具体说代码实现&quot;&gt;&lt;a href=&quot;#下面具体说代码实现&quot; class=&quot;headerlink&quot; title=&quot;下面具体说代码实现&quot;&gt;&lt;/a&gt;下面具体说代码实现&lt;/h2&gt;&lt;p&gt;首先创建个model类，类里面有除数和余数2个属性，然后提供一个遍历构造器，方便使用&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;@interface CRTModel : NSObject&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;@property (assign, nonatomic) NSInteger divider;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;@property (assign, nonatomic) NSInteger remain;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;+(instancetype)modelWithDivider:(NSInteger)divider&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                         remain:(NSInteger)remain;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;@end&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;@implementation CRTModel&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;+(instancetype)modelWithDivider:(NSInteger)divider remain:(NSInteger)remain&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    CRTModel *model = [[self alloc] init];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    model.divider = divider;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    model.remain = remain;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    return model;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;@end&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;还需要用到2个函数，最大公约数GCD和最小公倍数LCM&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;-(NSInteger)gcdOf:(NSInteger)a and:(NSInteger)b&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    //这里用__block修饰也可以&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    static const NSInteger(^GCDRecursionBlock)(NSInteger,NSInteger) &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    = ^(NSInteger ra, NSInteger rb)&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        if (!ra || !rb) return MAX(ra, rb);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        return GCDRecursionBlock(rb,ra%rb);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    return GCDRecursionBlock(a,b);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;//最小公倍数&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;-(NSInteger)lcmOf:(NSInteger)a and:(NSInteger)b&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    return a * b / [self gcdOf:a and:b]; //最小公倍数等于两数之积除以最大公约数&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;然后开始实现算法&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;0.先创建3个Model，把题目&amp;quot;抄&amp;quot;一遍&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;CRTModel *model1 = [CRTModel modelWithDivider:3 remain:2];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;CRTModel *model2 = [CRTModel modelWithDivider:5 remain:3];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;CRTModel *model3 = [CRTModel modelWithDivider:7 remain:2];&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1.取到算法中步骤1的结果：&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;-(NSInteger)getSubMinNumberOfDivider1:(NSInteger)divider1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                              divider2:(NSInteger)divider2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                           andDivider3:(NSInteger)divider3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                             remainOf3:(NSInteger)remainOf3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    NSInteger lcm = [self lcmOf:divider1 and:divider2];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    NSInteger result = lcm;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    while ((result % divider3) != remainOf3) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        result += lcm;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    return result;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;NSInteger a = [self getSubMinNumberOfDivider1:model1.divider divider2:model2.divider andDivider3:model3.divider remainOf3:model3.remain];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;NSInteger b = [self getSubMinNumberOfDivider1:model2.divider divider2:model3.divider andDivider3:model1.divider remainOf3:model1.remain];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;NSInteger c = [self getSubMinNumberOfDivider1:model3.divider divider2:model1.divider andDivider3:model2.divider remainOf3:model2.remain];&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;2.求和&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;NSInteger sum = a + b + c;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;3.求全部除数的最小公倍数，然后求结果&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;//使用&amp;quot;更相减损术&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;NSInteger lcmOfAll = &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    [self lcmOf:[self lcmOf:model1.divider and:model2.divider] and:model3.divider];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;//求结果&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;NSInteger result = sum - lcmOfAll;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;NSLog(@&amp;quot;计算结果为：%ld + %ld * k (k为自然数)&amp;quot;,result,lcmOfAll);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;就这么多了。这是我昨晚回顾RSA加密时候看到的，刚好就学习下了，其实想再复习下欧拉函数什么的，都忘光了！ 有时间就搞！！&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;a href=&quot;https://zh.wikipedia.org/wiki/%E4%B8%AD%E5%9B%BD%E5%89%A9%E4%BD%99%E5%AE%9A%E7%90%86&quot;&gt;中国剩余定理&lt;/a&gt;&lt;br&gt;这个定理之前没见过，是在&lt;a href=&quot;http://www.ruanyifeng.com/blog/2013/06/rsa_algorithm_part_one.html&quot;&gt;RSA算法原理（一）&lt;/a&gt;中提到的，想深入了解的可以去读下。&lt;/p&gt;
&lt;h5 id=&quot;故事背景&quot;&gt;&lt;a href=&quot;#故事背景&quot; class=&quot;headerlink&quot; title=&quot;故事背景&quot;&gt;&lt;/a&gt;故事背景&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;韩信点兵&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;秦朝末年，楚汉相争。一次，韩信将1500名将士与楚王大将李锋交战。苦战一场，楚军不敌，败退回营，汉军也死伤四五百人，于是韩信整顿兵马也返回大本营。当行至一山坡，忽有后军来报，说有楚军骑兵追来。只见远方尘土飞扬，杀声震天。汉军本来已十分疲惫，这时队伍大哗。韩信兵马到坡顶，见来敌不足五百骑，便急速点兵迎敌。他命令士兵3人一排，结果多出2名；接着命令士兵5人一排，结果多出3名；他又命令士兵7人一排，结果又多出2名。韩信马上向将士们宣布：我军有1073名勇士，敌人不足五百，我们居高临下，以众击寡，一定能打败敌人。汉军本来就信服自己的统帅，这一来更相信韩信是“神仙下凡”、“神机妙算”。于是士气大振。一时间旌旗摇动，鼓声喧天，汉军步步进逼，楚军乱作一团。交战不久，楚军大败而逃。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;题目就是：将军点兵，三三数余2，五五数余3，七七数余2。问兵几何？
    
    </summary>
    
    
      <category term="算法" scheme="http://bluelich.com/tags/%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
</feed>
